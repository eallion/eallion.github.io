<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="zh-cn"><generator uri="https://gohugo.io/" version="0.83.1">Hugo</generator><title type="html">大大的小蜗牛</title><subtitle type="html">机会总是垂青于有准备的人</subtitle><link href="https://eallion.com/atom.xml" rel="self" type="application/rss+xml" title="atom"/><link href="https://eallion.com/" rel="alternate" type="text/html" title="HTML"/><link href="https://eallion.com/index.json" rel="alternate" type="application/json" title="JSON"/><updated>2021-06-13T01:52:40+08:00</updated><id>https://eallion.com/atom.xml</id><entry><title type="html">劳动合同解除(终止)及赔偿一览表</title><link href="https://eallion.com/laborcontract/" rel="alternate" type="text/html"/><id>https://eallion.com/laborcontract/</id><published>2021-01-13T14:40:28+08:00</published><updated>2021-01-13T14:40:28+08:00</updated><content type="html"><![CDATA[<blockquote>
<p>转需 / 备忘</p>
</blockquote>
<p>解除和终止都有结束的意思，在生活中并不会特意加以区分。可是当这两个词放在劳动法中，却会产生极大的不同。如果你一不小心弄错的话，就会产生不同的法律责任。</p>
<p><strong>劳动合同解除和劳动合同终止的共同点：</strong></p>
<p>劳动合同的解除和劳动合同的终止，都是劳动合同所确定的法律关系消灭，用人单位和劳动者的劳动合同关系随风而逝，双方之间的权利和义务烟消云散。所以在现实操作中，很多人把二者混为一谈而区分不开来，经常混淆使用，因而留下了劳动纠纷隐患。</p>
<p><strong>劳动合同解除和劳动合同终止的不同点：</strong></p>
<p>劳动合同的终止是指由于《劳动合同法》第四十四条中的法定事由出现，导致的劳动合同关系期满终止或依法终止。包括劳动合同期满的；劳动者开始依法享受基本养老保险待遇的；劳动者死亡，或者被人民法院宣告死亡或者宣告失踪的；用人单位被依法宣告破产的；用人单位被吊销营业执照、责令关闭、撤销或者用人单位决定提前解散的等情形。注意，劳动合同终止仅限于法定情形。</p>
<p><strong>劳动合同的解除可分三种情况：</strong></p>
<p><strong>一是双方协商一致解除。</strong></p>
<p><strong>二是劳动者单方解除</strong>（提前通知解除、用人单位存在过错、违法时的解除）。</p>
<p><strong>三是用人单位单方解除。</strong> 它包括提前30日通知或支付一个月代通知金的劳动者无过错情况下的解除（《劳动合同法》第四十条）、劳动者试用期内不符合录用条件、有过错、被追究刑事责任等六种情况下的解除（《劳动合同法》第三十九条）、经济性裁员的解除（《劳动合同法》第四十一条）等情形。</p>
<p>劳动合同解除和劳动合同终止的条件、期限和是否需要支付经济补偿金？以及哪些情况下不得解除？请看下面的表格。</p>
 <body>
  <table cellspacing="0" width="" style="">
   <tbody style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td colspan="2" width="123" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><strong style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">解除和终止</span></strong></p></td>
     <td width="187" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><strong style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">条件</span></strong></p></td>
     <td width="61" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><strong style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">期限</span></strong></p></td>
     <td width="187" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><strong style="max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">经济补偿金</span></strong></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td rowspan="2" width="48" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">协商解除</span></p></td>
     <td width="112" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">单位提出</span></p></td>
     <td rowspan="2" width="187" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">不论何种类型的劳动合同，也不需要任何条件，都可以协商解除</span></p></td>
     <td width="61" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">无要求</span></p></td>
     <td width="187" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td width="84" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">员工提出</span></p></td>
     <td width="142" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">无要求</span></p></td>
     <td width="79" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">不需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td rowspan="10" width="48" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">单位解除的情形</span></p></td>
     <td rowspan="6" width="112" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">即时通知解除劳动合同（过失性解除劳动合同）</span></p></td>
     <td width="187" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">试用期内不符合录用条件</span></p></td>
     <td width="61" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">随时</span></p></td>
     <td width="187" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">无需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td width="324" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">严重违纪</span></p></td>
     <td width="142" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">随时</span></p></td>
     <td width="79" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">无需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td width="324" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">造成重大损害</span></p></td>
     <td width="142" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">随时</span></p></td>
     <td width="79" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">无需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td width="324" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">兼职，对本职工作有严重影响或经提出拒不改正的</span></p></td>
     <td width="142" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">随时</span></p></td>
     <td width="79" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">无需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td width="324" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">以欺诈、胁迫手段或者趁人之危订立劳动合同</span></p></td>
     <td width="142" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">随时</span></p></td>
     <td width="79" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">无需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td width="324" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">被追究刑事责任</span></p></td>
     <td width="142" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">随时</span></p></td>
     <td width="79" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">无需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td rowspan="3" width="84" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">预告通知解除（非过失性解除劳动合同）</span></p></td>
     <td width="352" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">患病或非因工负伤医疗期满不能从事原工作，也不能从事另行安排的工作</span></p></td>
     <td width="69" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">提前30天或支付一个月工资</span></p></td>
     <td width="71" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td width="324" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">不能胜任工作，经培训或调岗后仍无法胜任的</span></p></td>
     <td width="142" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">提前30天或支付一个月工资</span></p></td>
     <td width="79" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td width="324" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">劳动合同无法履行且无法达成变更劳动合同协议的</span></p></td>
     <td width="142" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">提前30天或支付一个月工资</span></p></td>
     <td width="79" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td width="84" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">裁员解除</span></p></td>
     <td width="352" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">破产；经营困难；转产、重大技术革新或者经营方式调整；客观情况发生重大变化</span></p></td>
     <td width="69" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">履行法定程序后可以裁员</span></p></td>
     <td width="71" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td rowspan="10" width="48" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">员工解除的情形</span></p></td>
     <td width="112" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">提前30天通知解除</span></p></td>
     <td width="187" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">不论何种类型的劳动合同，也不需要任何条件，劳动者都可以提前30天通知解除劳动合同</span></p></td>
     <td width="61" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">提前30天通知</span></p></td>
     <td width="187" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">无需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td width="84" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">提前3天通知解除</span></p></td>
     <td width="352" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">在试用期内</span></p></td>
     <td width="69" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">提前3天通知</span></p></td>
     <td width="71" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">无需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td rowspan="6" width="84" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">随时通知解除</span></p></td>
     <td width="352" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">未提供约定的劳动保护和条件</span></p></td>
     <td width="69" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">随时通知</span></p></td>
     <td width="71" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td width="324" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">未按时足额支付劳动报酬</span></p></td>
     <td width="142" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">随时通知</span></p></td>
     <td width="79" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td width="324" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">未依法缴纳社会保险费</span></p></td>
     <td width="142" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">随时通知</span></p></td>
     <td width="79" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td width="324" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">规章制度违法损害劳动者利益</span></p></td>
     <td width="142" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">随时通知</span></p></td>
     <td width="79" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td width="324" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">以欺诈、胁迫的手段或者趁人之危订立劳动合同的</span></p></td>
     <td width="142" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">随时通知</span></p></td>
     <td width="79" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td width="324" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">法律法规规定的其他情况</span></p></td>
     <td width="142" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">随时通知</span></p></td>
     <td width="79" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td rowspan="2" width="84" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">无需通知立即解除</span></p></td>
     <td width="352" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">以暴力、威胁或者非法限制人身自由的手段强迫劳动者劳动的</span></p></td>
     <td width="69" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">立即解除，无需通知</span></p></td>
     <td width="71" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td width="324" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">违规违章强令冒险作业</span></p></td>
     <td width="142" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">立即解除，无需通知</span></p></td>
     <td width="79" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td rowspan="8" width="48" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">劳动合同终止</span></p></td>
     <td rowspan="3" width="112" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">劳动合同期满的</span></p></td>
     <td colspan="2" width="280" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">用人单位不同意续订的</span></p></td>
     <td width="187" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td colspan="2" width="466" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">用人单位降低劳动条件续订劳动合同，劳动者不同意续订的</span></p></td>
     <td width="79" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td colspan="2" width="466" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">用人单位维持或者提高劳动条件续订劳动合同，劳动者不同意续订的</span></p></td>
     <td width="79" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">无需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td colspan="3" width="372" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">劳动者开始享受基本养老保险待遇的</span></p></td>
     <td width="71" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">无需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td colspan="3" width="372" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">劳动者死亡、或被法院宣告死亡或失踪的</span></p></td>
     <td width="71" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">无需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td colspan="3" width="372" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">单位被宣告破产</span></p></td>
     <td width="71" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td colspan="3" width="372" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">被吊销营业执照、责令关闭、撤销或者用人单位决定提前解散的</span></p></td>
     <td width="71" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td colspan="3" width="372" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">法律、行政法规规定的其他情形</span></p></td>
     <td width="71" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">无需支付</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td rowspan="6" width="48" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">不得解除或需逾期终止的情形</span></p></td>
     <td colspan="3" width="364" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">从事接触职业病危害作业的劳动者未进行离岗前职业健康检查，或者疑似职业病病人在诊断或者医学观察期间</span></p></td>
     <td rowspan="6" width="187" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><br></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td colspan="3" width="372" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">患职业病或者因工负伤并被确认丧失或者部分丧失劳动能力的</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td colspan="3" width="372" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">患病或者负伤，在规定的医疗期内的</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td colspan="3" width="372" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">女职工在孕期、产期、哺乳期内的</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td colspan="3" width="372" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">在单位连续工作满15年，且距法定退休年龄不足5年</span></p></td>
    </tr>
    <tr style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">
     <td colspan="3" width="372" style="padding: 4px;word-wrap: break-word;word-break: break-all;border-color: rgb(227, 237, 245);max-width: 100%;overflow: hidden;box-sizing: border-box !important;"><p style="padding-right: 0.5em;padding-left: 0.5em;max-width: 100%;min-height: 1em;white-space: pre-wrap;text-align: center;box-sizing: border-box !important;word-wrap: break-word !important;"><span style="max-width: 100%;word-wrap: break-word;box-sizing: border-box !important;">法律、行政法规规定的其他情形赔偿金</span></p></td>
    </tr>
   </tbody>
  </table>]]></content><category scheme="https://eallion.com/categories/%E6%97%A5%E5%BF%97" term="%E6%97%A5%E5%BF%97" label="日志"/><category scheme="https://eallion.com/tags/%E5%8A%B3%E5%8A%A8%E6%B3%95" term="%E5%8A%B3%E5%8A%A8%E6%B3%95" label="劳动法"/><category scheme="https://eallion.com/tags/%E5%8A%B3%E5%8A%A8%E5%90%88%E5%90%8C" term="%E5%8A%B3%E5%8A%A8%E5%90%88%E5%90%8C" label="劳动合同"/><category scheme="https://eallion.com/tags/%E8%A1%A5%E5%81%BF" term="%E8%A1%A5%E5%81%BF" label="补偿"/><category scheme="https://eallion.com/tags/%E5%B7%A5%E4%BD%9C" term="%E5%B7%A5%E4%BD%9C" label="工作"/><category scheme="https://eallion.com/tags/%E6%B3%95%E5%BE%8B" term="%E6%B3%95%E5%BE%8B" label="法律"/></entry><entry><title type="html">启用 Waline</title><link href="https://eallion.com/waline/" rel="alternate" type="text/html"/><id>https://eallion.com/waline/</id><published>2020-12-19T15:38:00+08:00</published><updated>2020-12-19T15:38:00+08:00</updated><content type="html"><![CDATA[<h3 id="前言">前言</h3>
<p>经过一段时间的测试，现在本博客决定启用 Waline 评论系统。</p>
<p>在开始写这篇博文之前，我列了很多大纲，我以为我会写一篇长篇大论，实际开始写之后，我发现没什么好写的。人与人之间的感受并不相通。你喜欢的别人不见得会认同。就像 Waline 的作者怡红公子天天推荐我用 Vercel ，但我就是不太想用。</p>
<p>关于博客评论系统的选择，总结起来就是一句话，喜欢什么就用什么，什么顺手就用什么。</p>
<p>推荐的有：</p>
<ul>
<li><a href="https://disqus.com/">Disqus</a></li>
<li><a href="https://waline.js.org/">Waline</a></li>
<li><a href="https://twikoo.js.org/">Twikoo</a></li>
<li><a href="https://utteranc.es/">Utterances</a></li>
</ul>
<p>不推荐的有：</p>
<ul>
<li>Gitalk</li>
<li>Valine</li>
</ul>
<p>更多详情可以参考<a href="https://eallion.com/comments/">《静态博客评论系统的选择》</a>这篇流水账。</p>
<h3 id="waline-简介">Waline 简介</h3>
<p>Waline - 一款从 <a href="https://valine.js.org/">Valine</a> 衍生的带后端评论系统。可以将 Waline 等价成 With backend Valine。</p>
<p><strong>Waline 特性</strong></p>
<ul>
<li>快速</li>
<li>真·安全</li>
<li>Markdown 语法支持</li>
<li>轻量易用</li>
<li>免费部署</li>
<li>多种部署部署方式和存储服务支持，每列选择一项多达 48 种部署方式任君选择</li>
</ul>
<table>
<thead>
<tr>
<th><strong>客户端脚本</strong></th>
<th><strong>服务端部署</strong></th>
<th><strong>数据存储</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>@waline/client</td>
<td>Vercel</td>
<td>LeanCloud</td>
</tr>
<tr>
<td>MiniValine</td>
<td>CloudBase</td>
<td>CloudBase</td>
</tr>
<tr>
<td></td>
<td>Docker</td>
<td>MongoDB</td>
</tr>
<tr>
<td></td>
<td>独立部署</td>
<td>MySQL</td>
</tr>
<tr>
<td></td>
<td></td>
<td>SQLite</td>
</tr>
<tr>
<td></td>
<td></td>
<td>PostgreSQL</td>
</tr>
</tbody>
</table>
<p>其中，我为 CloudBase 和 Docker 作了不少贡献。</p>
<p>也正是因为在我的建议下，怡红公子非常积极的开发 CloudBase 版，我才选择使用 Waline。</p>
<h3 id="彩蛋">彩蛋</h3>
<p>Waline 有提供数据迁移助手。<del>目前是一个隐藏界面，没有公开。</del></p>
<blockquote>
<p><a href="https://waline.js.org/migration/tool.html">https://waline.js.org/migration/tool.html</a></p>
</blockquote>
<p>支持从 5 种来源、3 种目标一共 15 种数据迁移方式。</p>
<table>
<thead>
<tr>
<th>来源</th>
<th>目标</th>
</tr>
</thead>
<tbody>
<tr>
<td>Valine</td>
<td>LeanCloud Waline</td>
</tr>
<tr>
<td>Disqus</td>
<td>CloudBase Waline</td>
</tr>
<tr>
<td>Twikoo</td>
<td>Waline MySQL/PostgreSQL/SQLite Waline</td>
</tr>
<tr>
<td>Typecho</td>
<td></td>
</tr>
<tr>
<td>Artalk</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="疑惑">疑惑</h3>
<blockquote>
<p>Q：Waline 部署在 LeanCloud 有流控吗？</p>
</blockquote>
<p>A：<strong>没有！</strong> Waline 的设计理念就是一个后端程序，是一个网页客户端与数据库之间的「中间件」。比如选择 Vercel + LeanCloud 的方式部署 Waline，那么 LeanCloud 只是存储评论数据的数据库，而类似于 Valine-admin 这样的邮件通知服务是在 Vercel 后端完成的（同理部署在 CloudBase 上就由云函数完成），跟 LeanCloud 的「云引擎」无关。</p>
<blockquote>
<p>Q：免费额度够用吗？</p>
</blockquote>
<p>A：作为正常博客使用，Vercel、CloudBase、Docker都是够的。</p>
<ul>
<li>Vercel： 免费 100G/月（<a href="https://vercel.com/pricing">说明文档</a>）</li>
<li>CloudBase：免费 4万GBs/月、5万读操作数/天（<a href="https://cloud.tencent.com/document/product/876/47816">说明文档</a>）</li>
<li>Docker / VPS：取决于自己的 VPS 额度</li>
</ul>
<blockquote>
<p>Q：这是不是软文？</p>
</blockquote>
<p>A：我也不知道算不算。这是我自愿写的，作者也没有给我广告费。在前段时间的 Valine 刷评风波中，我相信应该不是作者去搞的，我选择支持一波。</p>
<blockquote>
<p>Q：有没有其他好东西推荐？</p>
</blockquote>
<p>A：没有！就算你有发现，也不应该说出来，大家都懂得的。没有什么是国人玩不坏的。</p>
]]></content><category scheme="https://eallion.com/categories/%E6%97%A5%E5%BF%97" term="%E6%97%A5%E5%BF%97" label="日志"/><category scheme="https://eallion.com/tags/hugo" term="hugo" label="hugo"/><category scheme="https://eallion.com/tags/blog" term="blog" label="blog"/><category scheme="https://eallion.com/tags/waline" term="waline" label="waline"/><category scheme="https://eallion.com/tags/comment" term="comment" label="comment"/><category scheme="https://eallion.com/tags/%E8%AF%84%E8%AE%BA" term="%E8%AF%84%E8%AE%BA" label="评论"/></entry><entry><title type="html">静态博客评论系统的选择</title><link href="https://eallion.com/comments/" rel="alternate" type="text/html"/><id>https://eallion.com/comments/</id><published>2020-12-03T12:12:12+08:00</published><updated>2020-12-03T12:12:12+08:00</updated><content type="html"><![CDATA[<h3 id="前言">前言</h3>
<p>静态博客跟传统博客不一样，没有自带评论系统。</p>
<p>以 PHP + Mysql 为代表的 Wordpress 这类动态博客，天然带有数据库存储评论，而且博客前后端本地进行数据交互，提交评论、渲染评论都很快。而静态博客只产生静态网页文件，评论系统均需要依赖第三方评论系统。</p>
<p>流行的第三方评论系统大致可以分为 3 类：</p>
<ul>
<li>Disqus 这类 SaaS 评论解决方案，无需部署，引入 API 即可使用；</li>
<li>Gitalk 这类基于 GitHub Issues 的评论系统，依靠 GitHub 提供服务；</li>
<li>Valine 这类基于 PaaS 的评论系统，需要自己部署在诸如 LeanCloud 这类平台上。</li>
</ul>
<h3 id="使用感受">使用感受</h3>
<p>因为每个人的主观意愿不一样，只能简单评价一下我自己的使用感受。我只写我使用过或测试过的。在文末会给出一些网上收集的评论系统。</p>
<h4 id="1disqus">1、Disqus</h4>
<p>Disqus 就是目前最优秀的评论系统。久经考验，服务稳定，体验良好。不仅限于博客，在各行各业的网站上都能看到它的身影。</p>
<p>但是迫于中国的网络环境，在境内并不能使用原生 Disqus，所以不建议面向中文读者的网站使用 Disqus。</p>
<p>基于这个原因，衍生出了一些 Disqus 代理 API，其中有一些使用体验还不错，如：<a href="https://github.com/SukkaW/DisqusJS.git">DisqusJS</a> 和 <a href="https://github.com/fooleap/disqus-php-api.git">DisqusPHP</a>，奈何世无完人金无足赤。</p>
<p>Disqus 另一个（缺点？）是稍显臃肿。</p>
<p>跟 Disqus 同类型的：</p>
<ul>
<li><a href="https://www.livere.com/"><strong>来必力（LiveRe）</strong></a>：来自韩国的评论系统；</li>
<li><a href="https://remark.ninja/"><strong>remark.ninja</strong></a>：LeanCloud 的博客在用；</li>
<li><strong>多说</strong>：早已停止服务，此致，敬礼！</li>
</ul>
<h4 id="2github-类">2、GitHub 类</h4>
<p>基于 GitHub Issues 的评论系统，比较有名的有：</p>
<ul>
<li><a href="https://utteranc.es/">Utterances</a></li>
<li>Gitalk</li>
<li>Gitment</li>
</ul>
<p>这类评论系统依托于 GitHub 仓库，把 GitHub 仓库当成存储评论的数据库。这种设计理念我也不知道是不是算好，有点滥用开源资源的嫌疑。这 3 个中我推荐使用 Utterances，因为它的权限要得少而合理，没有安全隐患。Gitalk 应用索要的权限着实离谱，反正我是不会授权我的 GitHub 登录 Gitalk 去评论的。</p>
<p>GitHub 类评论系统也有 Disqus 一样的网络问题，在境内访问 GitHub 极度不稳定。好一点的是勉强能连上，没有完全不能用……</p>
<h4 id="3valine-及衍生品">3、Valine 及衍生品</h4>
<p>Valine 地登场很惊艳，火爆了很长时间，可以说到现在依然很火爆。部署简单，容易上手，有很多保姆级别的教程，还有数不胜数的自定义 CSS 样式，连小白也能轻松配置。很多大佬也为 Valine 贡献创意和代码。Valine 渗透到很多角落。</p>
<p>但是伴随着 Valine 流行度的上升和用户下沉，Valine 的问题也慢慢浮现。其中有几个问题非常严重：</p>
<ul>
<li>一是它不再开源，这让很多用户无法接受；</li>
<li>二是安全问题越来越多；</li>
<li>三是后端 LeanCloud 限流，LeanCloud 自己也出过安全问题。</li>
</ul>
<p>在种种情况下，Valine 的衍生品就来了啊，各路豪杰纷纷表示要重新创造轮子。在网上也能搜到不少半成品。</p>
<p>目前发现比较优秀的有这几个：</p>
<ul>
<li>
<p><a href="https://twikoo.js.org">Twikoo</a></p>
<p>官方<a href="https://twikoo.js.org/#%E7%89%B9%E8%89%B2">特色</a>。采用腾讯云开发 CloudBase 作为后端数据库，隐私安全……</p>
</li>
<li>
<p><a href="https://waline.js.org">Waline</a></p>
<p>官方<a href="https://waline.js.org/#%E7%89%B9%E6%80%A7">特性</a>。诞生的主要原因就是为了解决 Valine 的安全性问题的。Waline 采用的思路是设计一个类似于中间件的后端，避免前端直连数据库。后端支持多种部署方式，数据库也支持多种部署方式……</p>
</li>
</ul>
<h3 id="我的选择">我的选择</h3>
<blockquote>
<p><a href="https://waline.js.org">Waline</a> (With backend Valine.)</p>
</blockquote>
<p>以前用 WordPress 和 Typecho 的时候，一直使用原生评论系统，没有这方面的忧虑。直到 2019 年底换到静态博客后，才发现评论系统的问题很严重。但是又不想再换回 Typecho 了。所以使用了大半年的 DisqusJS API，自己搭建在腾讯云香港轻量服务器上，速度还可以，稳定性也不错。但是慢慢发现评论越来越少，有需要咨询问题的朋友宁愿通过邮件或者 QQ 这些途径联系，也不会在博客上留言讨论。这让我开始反思评论系统的选择了。</p>
<p>刚好在这个时间，我发现了 <a href="https://twikoo.js.org">Twikoo</a>，它吸引我的地方在于，它是部署在腾讯云 CloudBase 的，刚好我的博客也是部署在 CloudBase 上的，这正合我意啊，部署博客、评论、嘀咕一把梭，全都部署在 CloudBase 。因为登录多一个网站就多一份麻烦，我很怕麻烦。能在一个平台解决所有事情那肯定是最好的选择。</p>
<p>在这段时间里，<a href="https://imnerd.org">怡红公子</a>也把博客转到了静态博客 Hugo，也在着手开发 <a href="https://waline.js.org">Waline</a> 了。我记得与他对话时他说了句原话是“如果我早点发现 Twikoo，我也不会去开发 Waline 了”。在我的轮番骚扰和不断测试下，Waline 也支持了部署在 CloudBase，所以我在测试了一下 Twikoo 后回到了 Waline。Waline 的特性在官网有完整的描述，有兴趣的可以去看看对比一下。目前 Waline 虽然还没有 Release 正式版，但现在的版本已经很稳定好用了。作者每天晚上和周末都提交了很多 Commit，版本也在快速迭代中。</p>
<p>在使用体验上，这三者的差别都不大，主要体现在前端 UI 不同和加载速度上的轻微差别。安装方式也是一模一样。后端部署也都有保姆教程。我推荐从这 3 个评论系统中选择一个喜欢的评论系统即可。</p>
<h3 id="网上搜索的评论系统">网上搜索的评论系统</h3>
<ul>
<li>Disqus</li>
<li>Valine</li>
<li>Waline</li>
<li>Twikoo</li>
<li>remark.ninja</li>
<li>来必力</li>
<li>Gitalk</li>
<li>Gitment</li>
<li>Staticman</li>
<li>Utterances</li>
<li>Vssue</li>
<li>HyperComments</li>
<li>remarkbox</li>
<li>IntenseDebate</li>
<li>Vuukle</li>
<li>Muut</li>
<li>Vicomi</li>
<li>Civil Comments</li>
<li>Widget Pack Rating &amp; Comment System</li>
<li>Facebook comments</li>
<li>HashOver</li>
<li>Isso</li>
<li>Blog Comments2</li>
<li>Commento</li>
<li>MiniValine</li>
<li>……</li>
</ul>
]]></content><category scheme="https://eallion.com/categories/%E4%BB%A3%E7%A0%81" term="%E4%BB%A3%E7%A0%81" label="代码"/><category scheme="https://eallion.com/tags/hugo" term="hugo" label="hugo"/><category scheme="https://eallion.com/tags/blog" term="blog" label="blog"/><category scheme="https://eallion.com/tags/%E5%8D%9A%E5%AE%A2" term="%E5%8D%9A%E5%AE%A2" label="博客"/><category scheme="https://eallion.com/tags/%E8%AF%84%E8%AE%BA" term="%E8%AF%84%E8%AE%BA" label="评论"/></entry><entry><title type="html">好好说话</title><link href="https://eallion.com/haohaoshuohua/" rel="alternate" type="text/html"/><id>https://eallion.com/haohaoshuohua/</id><published>2020-11-17T14:08:21+00:00</published><updated>2020-11-17T14:08:21+00:00</updated><content type="html"><![CDATA[<p>@<a href="https://images.eallion.com/images/2020/11/EnANP8VXMAEqpKK.jpg!hugo.webp">梁欢</a>：</p>
<blockquote>
<p>在今天这个娱乐的、倾轧的、暴躁的、站队的、轻率的、险恶的中文互联网世界里，如果你还试图从与人的讨论中获取知识与进步，确实需要一些技巧。这是我个人使用的一种讨论方式，坚持了几年时间，也因此收获了许多知识与友情。在今时今日，我认为「网络」就是「现实」，我们值得一种更体面的方式去说话。</p>
</blockquote>
<p>1、不使用脏话。即便脏话是用于表达程度之强烈，也应尽量慎用。绝大多数情况下，它只会让人感觉使用者缺乏足够的遣词造句能力。</p>
<p>2、讨论的目的，在于「寻找什么是对的」，而非「证明自己是对的」。后者也是导致「拒不认错」这个行为的原因。</p>
<p>3、讽刺是一种高等级的、令人激赏的表达技巧，但它的效力只作用于合适的语境下。最初发表观点时，可以讽刺（包括但不限于搞笑、调侃、吐槽），这有助于观点的传播；但与人进入具体讨论时，则要避免讽刺。</p>
<p>4、不做「动机揣测」。以下皆为动机揣测：</p>
<ul>
<li>「你想红想疯了。」</li>
<li>「大家散了吧，此人已经被收买。」</li>
<li>「不就是借机抱大腿，炒作自己吗？J</li>
</ul>
<p>5、不使用「资格论」。以下皆为资格论：</p>
<ul>
<li>「你懂个屁！」</li>
<li>「你一个xxxx，有什么资格评论别人？」</li>
<li>「等你也能xxxx，再来跟我说吧！」</li>
</ul>
<p>6、不「混淆概念」。以下皆为混淆概念：</p>
<ul>
<li>「xxxx假唱又怎么样？毕竟他们还未成年。」</li>
<li>「xxxx的产品好用？他们创始人是同性恋！」</li>
<li>「反对婚姻制度？那你是怎么被生出来的？」</li>
</ul>
<p>7、在讨论中尽可能少的使用反问句，多使用陈述句。尤其要避免「反问句」+「呵呵」句式，考虑到该句式已成为当今网络世界最大争吵源之一，且它暗含着使用者「我根本不打算进行任何有效讨论，我就是单纯要鄙视你」的立场，我们应当像不随地吐痰一样，不使用该句式。</p>
<p>8、当自己的观点、论据、逻辑遭受对方质疑时，相信对方是「对事不对人」的，因为你对对方也是如此；倘若发现对方不是如此，则宁对方也是如此；倘若发现对方不是如此，则宁可直接且优雅的快速退出讨论，也不使自己陷入同等「对人不对事」的可悲境遇。</p>
<p>9、在讨论过程中向对方表达感谢，有助于维持一段良性讨论的氛围；在讨论结束之后向对方表达感谢，有助于开启或增温一段友情。一个奇怪的现象是，人们在网络世界里往往不习惯向他人表达感谢之情。如果这时候你能勇于致谢，相信你与被致谢方都能收获额外的愉悦。</p>
<p>10、诚恳承认自己的错误，并始终为自己的错误言行及其引发的后果负责。这是最重要的。</p>
]]></content><category scheme="https://eallion.com/categories/%E6%97%A5%E5%BF%97" term="%E6%97%A5%E5%BF%97" label="日志"/><category scheme="https://eallion.com/tags/%E5%A5%BD%E5%A5%BD%E8%AF%B4%E8%AF%9D" term="%E5%A5%BD%E5%A5%BD%E8%AF%B4%E8%AF%9D" label="好好说话"/><category scheme="https://eallion.com/tags/%E8%AF%B4%E8%AF%9D" term="%E8%AF%B4%E8%AF%9D" label="说话"/><category scheme="https://eallion.com/tags/%E6%83%85%E5%95%86" term="%E6%83%85%E5%95%86" label="情商"/><category scheme="https://eallion.com/tags/%E4%BA%A4%E6%B5%81" term="%E4%BA%A4%E6%B5%81" label="交流"/></entry><entry><title type="html">KMS Windows 激活服务器</title><link href="https://eallion.com/kms/" rel="alternate" type="text/html"/><id>https://eallion.com/kms/</id><published>2020-11-04T12:51:22+08:00</published><updated>2020-11-04T12:51:22+08:00</updated><content type="html"><![CDATA[<p>最近因朋友需要激活 Windows 10 ，拉了个 Docker 镜像，建了个激活服务器。</p>
<h3 id="服务器地址">服务器地址</h3>
<ul>
<li><a href="https://kms.eallion.com">kms.eallion.com</a></li>
</ul>
<p>激活服务器部署在腾讯云香港轻量云服务器上，此网页能打开则表示激活服务可用。<br>
只支持激活 VOL 版本的 Windows 和 Office。<br>
KMS 方式激活，激活一次其有效期只有 180 天，每隔一段时间系统会自动向 KMS 服务器请求续期。</p>
<h3 id="源码">源码</h3>
<ul>
<li>Docker 镜像源码：<a href="https://hub.docker.com/r/mikolatero/vlmcsd">https://hub.docker.com/r/mikolatero/vlmcsd</a></li>
<li>GitHub 源码：<a href="https://github.com/Wind4/vlmcsd">https://github.com/Wind4/vlmcsd</a></li>
</ul>
<h3 id="gvlk-kms-客户端安装密钥">GVLK KMS 客户端安装密钥</h3>
<ul>
<li>Windows: <a href="https://docs.microsoft.com/zh-cn/windows-server/get-started/kmsclientkeys">https://docs.microsoft.com/zh-cn/windows-server/get-started/kmsclientkeys</a></li>
<li>Office 2013: <a href="https://technet.microsoft.com/zh-cn/library/dn385360.aspx">https://technet.microsoft.com/zh-cn/library/dn385360.aspx</a></li>
<li>Office 2016 &amp; 2019: <a href="https://technet.microsoft.com/zh-cn/library/dn385360(v=office.16).aspx">https://technet.microsoft.com/zh-cn/library/dn385360(v=office.16).aspx</a></li>
</ul>
<h3 id="激活教程">激活教程</h3>
<p>激活过程需要用管理员权限打开<code>CMD</code>命令提示符。<br>
不同的版本，需要更换为对应的 ipk 密钥。</p>
<ul>
<li><strong>激活 Windows</strong></li>
</ul>
<pre><code>slmgr.vbs -upk
slmgr.vbs -ipk NRG8B-VKK3Q-CXVCJ-9G2XF-6Q84J
slmgr.vbs -skms kms.eallion.com
slmgr.vbs -ato
slmgr.vbs -dlv
</code></pre><ul>
<li><strong>激活 32 位 Office</strong></li>
</ul>
<blockquote>
<p>需要找到<code>OSPP.VBS</code>文件所在的目录</p>
</blockquote>
<pre><code>cd \Program Files (x86)\Microsoft Office\Office16
cscript ospp.vbs /sethst:kms.eallion.com
cscript ospp.vbs /inpkey:NMMKJ-6RK4F-KMJVX-8D9MJ-6MWKP
cscript ospp.vbs /act
cscript ospp.vbs /dstatusall
</code></pre><ul>
<li><strong>激活 64 位 Office</strong></li>
</ul>
<blockquote>
<p>需要找到<code>OSPP.VBS</code>文件所在的目录</p>
</blockquote>
<pre><code>cd \Program Files\Microsoft Office\Office16
cscript ospp.vbs /sethst:kms.eallion.com
cscript ospp.vbs /inpkey:NMMKJ-6RK4F-KMJVX-8D9MJ-6MWKP
cscript ospp.vbs /act
cscript ospp.vbs /dstatusall
</code></pre>]]></content><category scheme="https://eallion.com/categories/%E4%BB%A3%E7%A0%81" term="%E4%BB%A3%E7%A0%81" label="代码"/><category scheme="https://eallion.com/tags/kms" term="kms" label="KMS"/><category scheme="https://eallion.com/tags/windows" term="windows" label="Windows"/><category scheme="https://eallion.com/tags/%E6%BF%80%E6%B4%BB" term="%E6%BF%80%E6%B4%BB" label="激活"/></entry><entry><title type="html">Ubuntu 20.10 优化</title><link href="https://eallion.com/ubuntu2010/" rel="alternate" type="text/html"/><id>https://eallion.com/ubuntu2010/</id><published>2020-10-23T10:25:00+00:00</published><updated>2020-10-23T10:25:00+00:00</updated><content type="html"><![CDATA[<p><strong>安装 Ubuntu 后的 20 件事</strong></p>
<p><img loading='lazy' src="https://images.eallion.com/images/2020/10/ubuntu2010.png!hugo.webp" alt="Ubuntu 20.10"  ></p>
<blockquote>
<p>实机安装 桌面效果截图 <a href="https://images.eallion.com/images/2020/10/ubuntu2010.png!hugo.webp" title="（查看大图）">（查看大图）</a></p>
</blockquote>
<p>最近搞挂了一块数据盘，刚好在 Ubuntu 20.10 的发行时间点，索性重装 Ubuntu。<br>
本文主要为备忘。切勿照搬命令。建议最小化安装。</p>
<hr>
<h1 id="基础优化">基础优化</h1>
<h3 id="1换软件源">1、换软件源</h3>
<p>推荐清华大学的源</p>
<blockquote>
<p><a href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/">https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/</a></p>
</blockquote>
<p>个人的备份源</p>
<blockquote>
<p><a href="https://raw.githubusercontent.com/eallion/dotfiles/ubuntu/sources.list">https://raw.githubusercontent.com/eallion/dotfiles/ubuntu/sources.list</a></p>
</blockquote>
<pre><code>sudo mv /etc/apt/sources.list /etc/apt/sources.list.backup
wget -c https://raw.githubusercontent.com/eallion/dotfiles/ubuntu/sources.list -O /etc/apt/sources.list
</code></pre><p>然后 update 一下：</p>
<pre><code>sudo apt update
sudo apt upgrade
</code></pre><h3 id="2系统设置">2、系统设置</h3>
<p>在<code>系统设置</code>里按自己的习惯设置即可。</p>
<h3 id="3sudo-免密码">3、Sudo 免密码</h3>
<p>常用的个人电脑，是可以运行<code>sudo</code>免输密码的，公用电脑不建议这样设置。</p>
<pre><code>su - 
</code></pre><pre><code>nano /etc/sudoers
</code></pre><p>在<code>root    ALL=(ALL:ALL) ALL</code>下一行添加：
（<code>eallion</code>请替换成自己的用户名)</p>
<pre><code>eallion ALL=(ALL:ALL) ALL
</code></pre><p>在<code>%sudo   ALL=(ALL:ALL) ALL</code>下一行添加：
（<code>eallion</code>请替换成自己的用户名)</p>
<pre><code>eallion ALL=(ALL:ALL) NOPASSWD:ALL
</code></pre><h3 id="4安装基础软件">4、安装基础软件</h3>
<pre><code>sudo apt install vim \
                 git \
                 curl \
                 gnome-tweak-tool \
                 gdebi \
                 preload \
                 google-chrome-stable \
                 gnome-shell-extensions \
                 ubuntu-restricted-extras
</code></pre><h3 id="5去鼠标加速">5、去鼠标加速</h3>
<p>对于 FPS 玩家，尤其推荐去掉鼠标加速。<br>
5.1. 在 <code>GNOME Tweaks</code> 点击 <code>键盘和鼠标</code> 在 <code>鼠标</code>-<code>加速配置</code>里选择<code>Flat</code>。<br>
5.2. 在 <code>系统设置</code>里<code>设备</code>-<code>鼠标和触摸板</code>-<code>鼠标</code>-<code>鼠标速度</code>调节自己适应的鼠标速度。</p>
<h3 id="6安装显卡驱动">6、安装显卡驱动</h3>
<p>如果是 Nvidia 独立显卡，在 Dash 里搜索<code>drive</code>，打开<code>附加驱动</code>，选择专有驱动。</p>
<h3 id="7下载个人配置">7、下载个人配置</h3>
<p>基于 Linux 特性，备份配置文件即可。<br>
我的部分配置备份于 GitHub：</p>
<blockquote>
<p><a href="https://github.com/eallion/dotfiles">https://github.com/eallion/dotfiles</a></p>
</blockquote>
<pre><code>git clone https://github.com/eallion/dotfiles.git -b ubuntu ~/Documents/dotfiles
</code></pre><p>恢复 Git Vim Tmux Fcitx 等配置。</p>
<h3 id="8安装输入法">8、安装输入法</h3>
<p>个人使用 Fcitx 五笔拼音</p>
<h4 id="81fcitx-五笔拼音">8.1、Fcitx 五笔拼音</h4>
<pre><code>sudo apt install fcitx-table-wbpy
</code></pre><blockquote>
<p>主题： <a href="https://github.com/Yucklys/fcitx-nord-skin">https://github.com/Yucklys/fcitx-nord-skin</a><br>
主题： <a href="https://github.com/Sakitami/fcitx-themes-package">https://github.com/Sakitami/fcitx-themes-package</a></p>
</blockquote>
<p>配置默认输入法：</p>
<pre><code>im-config
</code></pre><p>自定义标点符号：</p>
<pre><code>wget -c https://raw.githubusercontent.com/eallion/dotfiles/ubuntu/.config/fcitx/data/punc.mb.zh_CN -O ~/.config/fcitx/data/punc.mb.zh_CN
</code></pre><p>按下面格式添加符号，如果不符合习惯请自行修改。</p>
<pre><code>~ ～
` `
! ！
@ @
# #
$ ￥
% ␣
^ ……
&amp; &amp;
* *
( （
) ）
_ ——
- －
+ +
= =
| |
\ 、
[ 【
] 】
{ 〖 
} 〗
: ：
; ；
&quot; “ ”
' ‘ ’
&lt; 《
&gt; 》
, ，
. 。
? ？
</code></pre><h4 id="82fcitx5-五笔拼音">8.2、Fcitx5 五笔拼音</h4>
<p>安装：</p>
<pre><code>sudo apt install fcitx5 fcitx5-chinese-addons fcitx5-frontend-gtk2 fcitx5-frontend-gtk3 fcitx5-frontend-qt5
</code></pre><p>切换输入法：</p>
<pre><code>im-config
</code></pre><p>安装 Psionics-Remix 主题（可选）</p>
<blockquote>
<p><a href="https://github.com/xTpx/Psionics-Remix">https://github.com/xTpx/Psionics-Remix</a></p>
</blockquote>
<pre><code>git clone https://github.com/xTpx/Psionics-Remix.git ~/.local/share/fcitx5/themes/Psionics-Remix
</code></pre><pre><code>vim ~/.config/fcitx5/conf/classicui.conf
</code></pre><p>配置主题：</p>
<pre><code> ***
Theme=Psionics-Remix
 ***
</code></pre><p>自定义快速输入:</p>
<pre><code>sudo vim /usr/share/fcitx5/data/quickphrase.d/quick.mb
</code></pre><p>在文件中添加形如<code>input output</code>的代码，一行一条，即可实现添加快速输入辞典。<br>
示例：要在快速输入中输入<code>ddrr</code>，在候选中显示<code>大大的小蜗牛</code>，只需在上述mb文件中添加一行<code>ddrr 大大的小蜗牛</code>即可。（注意空格）</p>
<blockquote>
<p>友情提示：快速输入可以使用分号打开，Rime不支持快速输入。</p>
</blockquote>
<h3 id="9双系统时间设置">9、双系统时间设置</h3>
<p>解决切换到 Windows 时间不对的问题。将本地时间更新到硬件上。</p>
<pre><code>sudo apt install ntpdate
sudo ntpdate ntp.aliyun.com # 阿里云的时间服务器，可用其他时间服务器替换
sudo hwclock --localtime --systohc
</code></pre><p><strong>前9个步骤执行完成后，建议重启一下!</strong></p>
<h3 id="10安装-guake">10、安装 Guake</h3>
<p>通过软件仓库直接安装的 Guake 版本不够新，而且中文显示不全。<br>
推荐源码安装：</p>
<pre><code>git clone https://github.com/Guake/guake.git ~/Documents/guake
cd ~/Documents/guake
./scripts/bootstrap-dev-debian.sh run make
make
sudo make install
</code></pre><p>Ubuntu 20.10 默认终端的背景色：<code>#300a24</code></p>
<p><strong>Guake indicator</strong><br>
如果有需要可安装 Guake indicator：</p>
<pre><code>sudo apt install guake-indicator
</code></pre><h3 id="11安装-oh-my-tmux">11、安装 Oh My Tmux</h3>
<blockquote>
<p><a href="https://github.com/gpakosz/.tmux">https://github.com/gpakosz/.tmux</a></p>
</blockquote>
<pre><code>cd
git clone https://github.com/gpakosz/.tmux.git
ln -s -f .tmux/.tmux.conf
cp .tmux/.tmux.conf.local .
</code></pre><h3 id="12安装-oh-my-zsh">12、安装 Oh My Zsh</h3>
<blockquote>
<p>参考：<a href="https://eallion.com/ubuntuzsh" title="https://eallion.com/ubuntuzsh">https://eallion.com/ubuntuzsh</a></p>
</blockquote>
<p>安装 Zsh：</p>
<pre><code>sudo apt update
sudo apt install zsh autojump fasd
</code></pre><p>安装 Oh My Zsh：</p>
<blockquote>
<p>官方文档 <a href="https://github.com/ohmyzsh/ohmyzsh#basic-installation">https://github.com/ohmyzsh/ohmyzsh#basic-installation</a></p>
</blockquote>
<pre><code>sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;
</code></pre><p>下载、安装、配置字体：</p>
<blockquote>
<p>下载：<a href="https://github.com/ryanoasis/nerd-fonts/raw/master/patched-fonts/Ubuntu/Regular/complete/Ubuntu%20Nerd%20Font%20Complete.ttf">Ubuntu Nerd Font</a><br>
下载：<a href="https://github.com/ryanoasis/nerd-fonts/raw/v1.2.0/patched-fonts/Hack/Regular/complete/Knack%20Regular%20Nerd%20Font%20Complete%20Mono.ttf">Knack Nerd Font Mono</a> （推荐）</p>
</blockquote>
<p>安装主题 Powerlevel9k ：</p>
<pre><code>git clone https://github.com/bhilburn/powerlevel9k.git ~/.oh-my-zsh/custom/themes/powerlevel9k
</code></pre><p>安装历史命令建议插件：</p>
<pre><code>git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
</code></pre><p>安装命令行语法高亮插件：</p>
<pre><code>git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting
</code></pre><p>设置 Oh My Zsh ：</p>
<pre><code>vim ~/.zshrc
</code></pre><p>需要修改如下几个地方：</p>
<pre><code>    ******
POWERLEVEL9K_MODE='nerdfont-complete'
ZSH_THEME=&quot;powerlevel9k/powerlevel9k&quot;
POWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(context dir dir_writable disk_usage vcs newline)
POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS=(status root_indicator background_jobs history time)
    ******
ENABLE_CORRECTION=&quot;true&quot;
    ******
COMPLETION_WAITING_DOTS=&quot;true&quot;
    ******
plugins=( git extract fasd zsh-autosuggestions zsh-syntax-highlighting docker docker-compose)
    ******
</code></pre><p>我个人的配置：</p>
<pre><code>rm ~/.zshrc
wget -c https://raw.githubusercontent.com/eallion/dotfiles/ubuntu/.zshrc -O ~/.zshrc
</code></pre><p>让配置生效：</p>
<pre><code>source ~/.zshrc
</code></pre><p>如果安装时没有选择将 Zsh 作为默认 Shell，可以用下面的命令设置：</p>
<pre><code>chsh -s /bin/zsh
</code></pre><p>查看当前所用的 Shell ： <code>echo $SHELL</code>。</p>
<h3 id="13配置-vim">13、配置 Vim</h3>
<h4 id="131-spf13-vim">13.1 spf13-vim</h4>
<blockquote>
<p><a href="https://github.com/spf13/spf13-vim">https://github.com/spf13/spf13-vim</a></p>
</blockquote>
<h4 id="132-evervim-推荐">13.2 EverVim （推荐）</h4>
<blockquote>
<p><a href="https://github.com/LER0ever/EverVim">https://github.com/LER0ever/EverVim</a><br>
Ubuntu 配置 EverVim <a href="https://eallion.com/ubuntuevervim/">https://eallion.com/ubuntuevervim/</a></p>
</blockquote>
<p>安装 EverVim 步骤<br>
安装依赖：</p>
<pre><code>sudo apt install -y git curl python3-pip python3-dev exuberant-ctags cmake gcc g++ build-essential
</code></pre><p>安装 EverVim ：</p>
<pre><code>curl -sLf https://raw.githubusercontent.com/LER0ever/EverVim/master/Boot-EverVim.sh | bash
</code></pre><p>进 Vim 安装插件：</p>
<pre><code>vim
:PlugInstall
</code></pre><p>如果进 Vim 提示 Your ycmd is shut down ，需要安装 You Compute Me ：</p>
<pre><code>cd ~/.vim/bundle/YouCompleteMe
python3 install.py --clang-completer
</code></pre><h3 id="14配置-grub-引导">14、配置 Grub 引导</h3>
<p>Etx4 文件系统用 Grub-customizer 即可，Btrfs、ZFS等文件系统此软件无效。</p>
<pre><code>sudo apt install grub-customizer
</code></pre><p>Theme:</p>
<blockquote>
<p><a href="https://github.com/sandesh236/sleek--themes">https://github.com/sandesh236/sleek--themes</a><br>
<a href="https://github.com/gustawho/grub2-theme-breeze">https://github.com/gustawho/grub2-theme-breeze</a></p>
</blockquote>
<p>如果 Nvidia 独立显卡在引导界面开机黑屏：将<code>nomodeset</code>加到<code>/etc/default/grub</code>即可。</p>
<pre><code>GRUB_CMDLINE_LINUX_DEFAULT=&quot;nomodeset quiet splash&quot;
</code></pre><h3 id="15自动挂载硬盘">15、自动挂载硬盘</h3>
<p>查看硬盘的 UUID 和 Type ：</p>
<pre><code>sudo blkid
</code></pre><p>记录下<code>UUID</code>和<code>Type</code>。<br>
创建挂载目录：</p>
<pre><code>mkdir -p ~/Files ~/Media
</code></pre><p>查看自己的 uid gid：</p>
<pre><code>id eallion
</code></pre><p>编辑配置文件：</p>
<pre><code>sudo vim /etc/fstab
</code></pre><p>按格式添加：</p>
<pre><code>UUID=xxxx	/mount-folder	type	defaults	0	0
</code></pre><p>如：</p>
<pre><code>UUID=xxxx	/home/eallion/Files	ntfs	defaults,uid=1000,gid=1000,umask=022	0	0
UUID=xxxx	/home/eallion/Media	ntfs	defaults,uid=1000,gid=1000,umask=022	0	0
</code></pre><p>如果不加 uid gid ，自动挂载后可能是 root 权限，无法读写。</p>
<h3 id="16安装-pulseaudio-volume-control">16、安装 PulseAudio Volume Control</h3>
<pre><code>sudo apt install pavucontrol
</code></pre><h3 id="17安装-docker">17、安装 Docker</h3>
<blockquote>
<p><a href="https://docs.docker.com/engine/install/ubuntu/">https://docs.docker.com/engine/install/ubuntu/</a>
Ubuntu 20.10 暂时还没有官方源，使用 Ubuntu 20.04 的源替代。
即：替换<code>$(lsb_release -cs)</code>为<code>focal</code>。</p>
</blockquote>
<pre><code>sudo apt remove docker docker-engine docker.io containerd runc
sudo apt install -y apt-transport-https ca-certificates curl gnupg-agent software-properties-common
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
sudo add-apt-repository &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu focal stable&quot;
sudo apt install -y docker-ce docker-ce-cli containerd.io
</code></pre><p>检查是否安装成功：</p>
<pre><code>docker version
sudo docker run hello-world
</code></pre><p>安装 Docker Compose：</p>
<pre><code>sudo curl -L &quot;https://github.com/docker/compose/releases/download/1.27.1/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose
sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose
</code></pre><p>Docker 属于高频操作，运行 Docker 时，免去 <code>sudo</code></p>
<blockquote>
<p><a href="https://docs.docker.com/engine/install/linux-postinstall/">https://docs.docker.com/engine/install/linux-postinstall/</a></p>
</blockquote>
<pre><code>sudo groupadd docker
sudo usermod -aG docker $USER
reboot
newgrp docker
sudo chown &quot;$USER&quot;:&quot;$USER&quot; /home/&quot;$USER&quot;/.docker -R
sudo chmod g+rwx &quot;$HOME/.docker&quot; -R
</code></pre><h3 id="18安装-gnome-shell-extensions">18、安装 Gnome Shell Extensions</h3>
<h4 id="181-安装浏览器插件">18.1. 安装浏览器插件</h4>
<p>可以使用 Chrome 插件，如果登录了 Google 账号，有自动同步功能。</p>
<ul>
<li>Chrome :  <a href="https://chrome.google.com/webstore/detail/gnome-shell-integration/gphhapmejobijbbhgpjhcjognlahblep" title="GNOME Shell integration">GNOME Shell integration</a></li>
<li>Firefox: <a href="https://extensions.gnome.org/" title="https://extensions.gnome.org/">https://extensions.gnome.org</a></li>
</ul>
<h4 id="182-安装-gnome-shell-extensions">18.2. 安装 Gnome Shell Extensions</h4>
<pre><code>sudo apt install gnome-shell-extensions
</code></pre><h4 id="183-安装扩展">18.3. 安装扩展</h4>
<blockquote>
<p>以下扩展插件按需启用<br>
安装完成后，按<code>Alt</code>+<code>F2</code>，输入<code>r</code>重启</p>
</blockquote>
<ul>
<li><a href="https://extensions.gnome.org/extension/6/applications-menu/">Applications Menu</a></li>
<li><a href="https://extensions.gnome.org/extension/1071/applications-overview-tooltip/">Applications Overview Tooltip</a></li>
<li><a href="https://extensions.gnome.org/extension/16/auto-move-windows/">Auto Move Windows</a></li>
<li><a href="https://extensions.gnome.org/extension/779/clipboard-indicator/">Clipboard Indicator</a></li>
<li><a href="https://extensions.gnome.org/extension/97/coverflow-alt-tab/">Coverflow Alt-Tab</a></li>
<li><a href="https://extensions.gnome.org/extension/307/dash-to-dock/">Dash to Dock</a>
<ul>
<li><code>sudo gnome-extensions disable ubuntu-dock@ubuntu.com</code></li>
</ul>
</li>
<li><a href="https://extensions.gnome.org/extension/1465/desktop-icons/">Desktop Icons</a></li>
<li><a href="https://extensions.gnome.org/extension/1319/gsconnect/">GSConnect</a></li>
<li><a href="https://extensions.gnome.org/extension/545/hide-top-bar/">Hide Top Bar</a></li>
<li><a href="https://extensions.gnome.org/extension/2141/horizontal-workspaces/">Horizontal workspaces</a></li>
<li><a href="https://extensions.gnome.org/extension/600/launch-new-instance/">Launch new instance</a></li>
<li><a href="https://extensions.gnome.org/extension/675/lunar-calendar/">Lunar Calendar 农历</a>
<ul>
<li><code>sudo apt install gir1.2-lunar-date-2.0</code></li>
</ul>
</li>
<li><a href="https://extensions.gnome.org/extension/18/native-window-placement/">Native Window Placement</a></li>
<li><a href="https://extensions.gnome.org/extension/750/openweather/">OpenWeather</a></li>
<li><a href="https://extensions.gnome.org/extension/8/places-status-indicator/">Places Status Indicator</a></li>
<li><a href="https://extensions.gnome.org/extension/7/removable-drive-menu/">Removable Drive Menu</a></li>
<li><a href="https://extensions.gnome.org/extension/2741/remove-alttab-delay-v2/">Remove Alt+Tab Delay v2</a></li>
<li><a href="https://extensions.gnome.org/extension/800/remove-dropdown-arrows/">Remove Dropdown Arrows</a>
<ul>
<li><a href="https://extensions.gnome.org/extension/1287/unite/">Unite</a> 里有此功能。</li>
</ul>
</li>
<li><a href="https://extensions.gnome.org/extension/881/screenshot-window-sizer/">Screenshot Window Sizer</a></li>
<li><a href="https://extensions.gnome.org/extension/906/sound-output-device-chooser/">Sound Input &amp; Output Device Chooser</a></li>
<li><a href="https://extensions.gnome.org/extension/355/status-area-horizontal-spacing/">Status Area Horizontal Spacing</a></li>
<li><a href="https://extensions.gnome.org/extension/1031/topicons/">TopIcons Plus</a></li>
<li><a href="https://extensions.gnome.org/extension/1503/tray-icons/">Tray Icons</a></li>
<li><a href="https://extensions.gnome.org/extension/1301/ubuntu-appindicators/">Ubuntu AppIndicators</a></li>
<li><a href="https://extensions.gnome.org/extension/1300/ubuntu-dock/">Ubuntu Dock</a></li>
<li><a href="https://extensions.gnome.org/extension/1287/unite/">Unite</a></li>
<li><a href="https://extensions.gnome.org/extension/19/user-themes/">User Themes</a></li>
<li><a href="https://extensions.gnome.org/extension/1460/vitals/">Vitals</a></li>
<li><a href="https://extensions.gnome.org/extension/602/window-list/">Window List</a></li>
<li><a href="https://extensions.gnome.org/extension/10/windownavigator/">windowNavigator</a></li>
<li><a href="https://extensions.gnome.org/extension/21/workspace-indicator/">Workspace Indicator</a></li>
</ul>
<h3 id="19火焰截图-flameshot">19、火焰截图 Flameshot</h3>
<p>需要设置快捷键，所以把火焰截图单独拿出来说。</p>
<pre><code>sudo apt install flameshot 
</code></pre><p>设置截图快捷键：
<code>系统设置</code> - <code>设备</code> - <code>键盘快捷键</code> - <code>自定义快捷键</code> 点加号添加一个：</p>
<pre><code>名称：flameshot
命令：flameshot gui
设置快捷键：（按键盘设置）
</code></pre><h3 id="20体验-macos-big-sur-动态壁纸">20、体验 macOS Big Sur 动态壁纸</h3>
<p>实际上没什么卵用，个人也不太喜欢。<br>
Gnome 桌面环境原生支持按时间自动切换壁纸的功能。<br>
无论什么 Linux 发行版，只要使用 Gnome 桌面环境都可以使用此壁纸。<br>
此套壁纸支持5K分辨率。
Windows 可以使用 <a href="https://github.com/t1m0thyj/WinDynamicDesktop">WinDynamicDesktop</a>。</p>
<blockquote>
<p><a href="https://github.com/eallion/Big-Sur-Ubuntu">https://github.com/eallion/Big-Sur-Ubuntu</a></p>
</blockquote>
<h4 id="201下载-big-sur">20.1、下载 Big Sur</h4>
<pre><code>git clone https://github.com/eallion/Big-Sur-Ubuntu.git ~/Pictures/Big-Sur-Ubuntu
</code></pre><h4 id="202设置">20.2、设置</h4>
<p>打开<code>Gnome Tweaks</code><br>
找到<code>外观</code>-<code>背景</code><br>
选择<code>groovy.xml</code>（文件在<code>/home/username/Pictures/Big-Sur-Ubuntu/groovy.xml</code>路径）<br>
选择<code>Zoom</code>调整方式</p>
<hr>
<h1 id="安装软件">安装软件</h1>
<h3 id="安装常用软件">安装常用软件</h3>
<p>推荐一些常用的软件：</p>
<ul>
<li>Authy (Snap)</li>
</ul>
<pre><code>sudo snap install authy --beta
</code></pre><ul>
<li>Filezilla</li>
</ul>
<pre><code>sudo apt install filezilla
</code></pre><ul>
<li>PhotoGIMP （GIMP）（Snap）</li>
</ul>
<pre><code>sudo snap install photogimp
</code></pre><ul>
<li>Steam</li>
</ul>
<pre><code>sudo apt install steam
</code></pre><ul>
<li>Telegram</li>
</ul>
<pre><code>sudo apt install telegram-desktop
</code></pre><ul>
<li>Thunderbird</li>
</ul>
<pre><code>sudo apt install thunderbird thunderbird-locale-zh-cn
</code></pre><ul>
<li>Virtualbox</li>
</ul>
<pre><code>sudo apt install virtualbox
</code></pre><ul>
<li>VLC</li>
</ul>
<pre><code>sudo apt install vlc
</code></pre><ul>
<li>AppImage Launcher</li>
</ul>
<blockquote>
<p><a href="https://github.com/TheAssassin/AppImageLauncher/">https://github.com/TheAssassin/AppImageLauncher/</a></p>
</blockquote>
<ul>
<li>Docker</li>
</ul>
<blockquote>
<p><a href="https://docs.docker.com/engine/install/ubuntu/">https://docs.docker.com/engine/install/ubuntu/</a></p>
</blockquote>
<ul>
<li>Dropbox</li>
</ul>
<blockquote>
<p><a href="https://www.dropbox.com/install">https://www.dropbox.com/install</a></p>
</blockquote>
<ul>
<li>Go</li>
</ul>
<blockquote>
<p><a href="https://golang.org/doc/install">https://golang.org/doc/install</a></p>
</blockquote>
<ul>
<li>Hugo</li>
</ul>
<blockquote>
<p><a href="https://github.com/gohugoio/hugo/releases">https://github.com/gohugoio/hugo/releases</a></p>
</blockquote>
<ul>
<li>Keybase</li>
</ul>
<blockquote>
<p><a href="https://keybase.io/docs/the_app/install_linux">https://keybase.io/docs/the_app/install_linux</a></p>
</blockquote>
<ul>
<li>MouseWheel</li>
</ul>
<blockquote>
<p><a href="https://github.com/muharemovic/MouseWheel">https://github.com/muharemovic/MouseWheel</a></p>
</blockquote>
<ul>
<li>Neteasy 网易云音乐</li>
</ul>
<blockquote>
<p><a href="https://music.163.com/#/download">https://music.163.com/#/download</a></p>
</blockquote>
<ul>
<li>Nginx Mysql PHP</li>
</ul>
<blockquote>
<p><a href="https://eallion.com/ubuntu2004lnmp/">https://eallion.com/ubuntu2004lnmp/</a></p>
</blockquote>
<ul>
<li>NVM</li>
</ul>
<blockquote>
<p><a href="https://github.com/nvm-sh/nvm">https://github.com/nvm-sh/nvm</a></p>
</blockquote>
<ul>
<li>OBS</li>
</ul>
<blockquote>
<p><a href="https://obsproject.com/wiki/install-instructions#linux">https://obsproject.com/wiki/install-instructions#linux</a></p>
</blockquote>
<ul>
<li>PicGo (snap install with <code>--danderous</code>)</li>
</ul>
<blockquote>
<p><a href="https://github.com/Molunerfinn/PicGo">https://github.com/Molunerfinn/PicGo</a></p>
</blockquote>
<ul>
<li>qBittorrent Enhanced</li>
</ul>
<blockquote>
<p><a href="https://github.com/c0re100/qBittorrent-Enhanced-Edition">https://github.com/c0re100/qBittorrent-Enhanced-Edition</a><br>
<a href="https://github.com/poplite/qBEE-Ubuntu-Packaging">https://github.com/poplite/qBEE-Ubuntu-Packaging</a></p>
</blockquote>
<ul>
<li>QQ</li>
</ul>
<blockquote>
<p><a href="https://im.qq.com/linuxqq/index.html">https://im.qq.com/linuxqq/index.html</a></p>
</blockquote>
<ul>
<li>Slack</li>
</ul>
<blockquote>
<p><a href="https://slack.com/downloads/linux">https://slack.com/downloads/linux</a></p>
</blockquote>
<ul>
<li>Spofity</li>
</ul>
<blockquote>
<p><a href="https://www.spotify.com/us/download/linux/">https://www.spotify.com/us/download/linux/</a></p>
</blockquote>
<ul>
<li>Termius</li>
</ul>
<blockquote>
<p><a href="https://termius.com/linux">https://termius.com/linux</a></p>
</blockquote>
<ul>
<li>Typora</li>
</ul>
<blockquote>
<p><a href="https://typora.io/#linux">https://typora.io/#linux</a></p>
</blockquote>
<ul>
<li>Visual Studio Code</li>
</ul>
<blockquote>
<p>通过 Snap 仓库安装有中文输入 Bug 。<br>
<a href="https://code.visualstudio.com/Download">https://code.visualstudio.com/Download</a></p>
</blockquote>
]]></content><category scheme="https://eallion.com/categories/%E4%BB%A3%E7%A0%81" term="%E4%BB%A3%E7%A0%81" label="代码"/><category scheme="https://eallion.com/tags/ubuntu" term="ubuntu" label="Ubuntu"/><category scheme="https://eallion.com/tags/%E4%BC%98%E5%8C%96" term="%E4%BC%98%E5%8C%96" label="优化"/><category scheme="https://eallion.com/tags/%E7%BE%8E%E5%8C%96" term="%E7%BE%8E%E5%8C%96" label="美化"/><category scheme="https://eallion.com/tags/zfs" term="zfs" label="ZFS"/><category scheme="https://eallion.com/tags/gnome" term="gnome" label="gnome"/></entry><entry><title type="html">关于 Ubuntu</title><link href="https://eallion.com/talkaboutubuntu/" rel="alternate" type="text/html"/><id>https://eallion.com/talkaboutubuntu/</id><published>2020-10-23T10:24:00+00:00</published><updated>2020-10-23T10:24:00+00:00</updated><content type="html"><![CDATA[<p>关于 Linux 和 Ubuntu 的一点愚见。</p>
<p>个人长期使用过 Ubuntu、Debian、Gentoo，体验过 Fedora、Manjaro、Archlinux、Deepin 等流行的发行版最少的时间也有一周以上。</p>
<p>关于推荐使用什么 Linux 发行版，如果你的目的是“日常使用的<strong>桌面环境</strong>”，我依然首推 Ubuntu！</p>
<p>Linux 的创始人 Linus Torvalds 用的是 Fedora，所以也推荐使用 Fedora 。但是个人喜欢 Debian 系，而且出了问题 Google 一下很容易找到解决办法。</p>
<p>可能在网上有少部分伪大神对 Ubuntu 发表了一些错误言论，因而导致了一些人对 Ubuntu 的偏见。但是 Linux 系统一切皆文件，真正的大神眼里所有发行版都是一样的，只是包管理方式不同而已。另一点是不必过度迷信于 Archlinux、Gentoo 这种滚动更新发行版，日常使用的话维护成本和风险是有点高的，我连更稳定的 Debian Sid 也滚挂过，在你没有真正理解 Linux 之前，Ubuntu 绝对是正经学习和工作的首选。美化型选手、体验型选手、博客型选手这些人你当我没说，你开心就好。</p>
<p>另外关于最近比较火的深度 Deepin 发行版，个人不推荐。推荐的人说的优点大多反而是缺点，而且系统稳定性和代码质量都不好。比 Deepin 美观的发行版也有不少。比如有的人推荐说 Deepin 可以很方便的运行 QQ 或者微信，本身我觉得在 Linux 下需要运行 QQ 或者微信就是一个伪需求，你都在用 Linux 了还束缚在 QQ 微信里而不去追求更自由的世界这本身就是一个问题，再说用 Wine 的方式运行一个软件，你干嘛不直接去用 Windows 呢，就算用盗版的也可以啊，在简体中文语境中 盗版 Windows 又不是个贬义词。近年也有不少企业针对国产 Linux 开发了原生或套壳软件，但是软件质量真不高，“国产毒瘤”这样的标签还是有隐隐约约的影子，可能是因为补贴经费和政治任务才这么积极吧。</p>
<p>我入 Ubuntu 的坑仅仅是因为当初喜欢 Ubuntu 的配色，然后因为习惯留在了 Debian 系。</p>
<p>服务器上推荐 Debian stable。在企业中的话，领导选什么服务器就用什么吧。</p>
]]></content><category scheme="https://eallion.com/categories/%E4%BB%A3%E7%A0%81" term="%E4%BB%A3%E7%A0%81" label="代码"/><category scheme="https://eallion.com/tags/ubuntu" term="ubuntu" label="Ubuntu"/><category scheme="https://eallion.com/tags/linux" term="linux" label="Linux"/></entry><entry><title type="html">Ubuntu ZFS 原生全盘加密</title><link href="https://eallion.com/ubuntu-zfs-root-encryption/" rel="alternate" type="text/html"/><id>https://eallion.com/ubuntu-zfs-root-encryption/</id><published>2020-09-11T23:48:35+08:00</published><updated>2020-09-11T23:48:35+08:00</updated><content type="html"><![CDATA[<h3 id="前言">前言</h3>
<p>Ubuntu 20.04 的安装镜像支持 ZFS 文件系统（从19.10就开始支持了）：
<img loading='lazy' src="https://images.eallion.com/images/2020/09/install.png!hugo.webp" alt=""  ></p>
<p>但是如果选择此项安装时，默认就没有全盘加密功能了。<br>
本文介绍如何安装 Ubuntu 到 ZFS 文件系统时使用原生加密。<br>
可加密 Root Boot 等目录。<br>
比<a href="https://eallion.com/ubuntu-zfs-encryption">《Ubuntu ZFS 加密 Home 目录》</a>更优秀。</p>
<h3 id="步骤">步骤</h3>
<p>1、下载 Ubuntu 20.04 镜像，按常规方法制作 U 盘 LiveCD。</p>
<blockquote>
<p><a href="https://releases.ubuntu.com/">https://releases.ubuntu.com/</a></p>
</blockquote>
<p>2、通过 U 盘引导进入 LiveCD 后，选择<code>试用 Ubuntu</code>（<code>Try Ubuntu</code>）。</p>
<p>3、按<code>Ctrl</code>+<code>Alt</code>+<code>T</code>打开终端<br>
用熟悉的文本编辑器编辑<code>/usr/share/ubiquity/zsys-setup</code>文件。</p>
<pre><code>sudo vi /usr/share/ubiquity/zsys-setup
</code></pre><p>查找到<code>zpool create</code>，Ubuntu 20.04.1 镜像的此文件含有2组<code>zpool create</code>。<br>
找到最后一行包含<code>rpool</code>的这一组代码块。<br>
然后修改：</p>
<pre><code>        zpool create -f \
</code></pre><p>改为：</p>
<pre><code>        echo &quot;mypassphrase&quot; | zpool create -f \
</code></pre><p>其中<code>mypassphrase</code>修改为自己的密码短语，建议不要太简单。<br>
在<code>rpool</code>所在行的<strong>前面</strong>添加下面的参数：</p>
<pre><code>           #-O recordsize=1M \ # 可选
            -O encryption=aes-256-gcm \
            -O keylocation=prompt \
            -O keyformat=passphrase \
</code></pre><p>按<code>ESC</code>输入<code>:wq</code>回车，保存后退出。</p>
<p>4、运行<code>ubiquity</code>开始安装 Ubuntu。</p>
<p>如图：（注意在<code>rpool</code>一行之前加入这些代码）<br>
<img loading='lazy' src="https://images.eallion.com/images/2020/09/zsys-setup.png!hugo.webp" alt=""  ></p>
<p><strong>Reference:</strong><br>
<a href="https://linsomniac.gitlab.io/post/2020-04-09-ubuntu-2004-encrypted-zfs/">https://linsomniac.gitlab.io/post/2020-04-09-ubuntu-2004-encrypted-zfs/</a></p>
]]></content><category scheme="https://eallion.com/categories/%E4%BB%A3%E7%A0%81" term="%E4%BB%A3%E7%A0%81" label="代码"/><category scheme="https://eallion.com/tags/ubuntu" term="ubuntu" label="Ubuntu"/><category scheme="https://eallion.com/tags/zfs" term="zfs" label="ZFS"/><category scheme="https://eallion.com/tags/encryption" term="encryption" label="encryption"/><category scheme="https://eallion.com/tags/%E5%8A%A0%E5%AF%86" term="%E5%8A%A0%E5%AF%86" label="加密"/><category scheme="https://eallion.com/tags/linux" term="linux" label="Linux"/></entry><entry><title type="html">Ubuntu ZFS 加密 Home 目录</title><link href="https://eallion.com/ubuntu-zfs-encryption/" rel="alternate" type="text/html"/><id>https://eallion.com/ubuntu-zfs-encryption/</id><published>2020-09-11T22:37:13+08:00</published><updated>2020-09-11T22:37:13+08:00</updated><content type="html"><![CDATA[<h3 id="前言">前言</h3>
<p>Ubuntu 20.04 的安装镜像支持 ZFS 文件系统：
<img loading='lazy' src="https://images.eallion.com/images/2020/09/install.png!hugo.webp" alt=""  ></p>
<p>本文是<strong>安装后</strong>加密 ZFS Home 目录的备忘教程。<br>
另外有<strong>安装前</strong>加密 ZFS Root 文件系统的备忘教程。链接：<a href="https://eallion.com/ubuntu-zfs-root-encryption">《Ubuntu ZFS 原生全盘加密》</a></p>
<h3 id="步骤">步骤：</h3>
<p>1、安装时创建一个随意的临时账号，或者安装完成后，新建一个临时管理员用户，暂且把这个账号叫做：<code>tempuser</code>，并把它设置为自动登录，此账号必须为管理员账号。<br>
后面的步骤均在此临时账号下进行。</p>
<p>2、注销或重启后，登录<code>tempuser</code>账号，重新创建一个长期使用的用户,比如我的账号叫：<code>eallion</code></p>
<p>3、查看 ZFS 数据集</p>
<pre><code>sudo zfs list -r rpool
</code></pre><p>记录下你要用到的用户名的数据集名称，每个人的快照名字都不一样。<br>
比如我的：<code>eallion_c1doe6</code><br>
返回值如图所示：
<img loading='lazy' src="https://images.eallion.com/images/2020/09/rpoollist.png!hugo.webp" alt=""  ></p>
<p>4、取消挂载新用户<code>eallion</code>的数据集</p>
<pre><code>sudo zfs set mountpoint=none rpool/USERDATA/&lt;yourdatasetname&gt; 
</code></pre><p>例如：</p>
<pre><code>sudo zfs set mountpoint=none rpool/USERDATA/eallion_c1doe6
</code></pre><blockquote>
<p>如果这一步遇到错误，如：target is busy，需要自行排错。比如我遇到的就是挂载了其他硬盘，导致不能取消数据集的挂载。</p>
</blockquote>
<p>5、给新用户<code>eallion</code>创建一个新的加密数据集</p>
<pre><code>sudo zfs create -o encryption=on -o keyformat=passphrase rpool/USERDATA/&lt;yourusername&gt;_encrypt
</code></pre><p>例如：</p>
<pre><code>sudo zfs create -o encryption=on -o keyformat=passphrase rpool/USERDATA/eallion_encrypt
</code></pre><p>输入密码短语，回车。（一定要记住此密码。）</p>
<p>6、挂载这个加密数据集到新用户目录</p>
<pre><code>sudo zfs set mountpoint=/home/&lt;yourusername&gt;  rpool/USERDATA/&lt;yourusername&gt;_encrypt
</code></pre><p>例如：</p>
<pre><code>sudo zfs set mountpoint=/home/eallion  rpool/USERDATA/eallion_encrypt
</code></pre><p>7、检测一下是否配置正确（如果没有返回什么，就代表配置成功了）</p>
<pre><code>sudo mount -a
</code></pre><p>8、检查一下加密是否成功（加密数据卷应该会有密码方式，如：<code>aes-256-gcm</code>）</p>
<pre><code>sudo zfs list -r rpool -o name,encryption
</code></pre><p>如图：<br>
我用的是全盘加密，所以全部返回<code>aes-256-gcm</code>，<br>
如果只加密了 Home 目录，则其他目录返回的是 <code>None</code>。
<img loading='lazy' src="https://images.eallion.com/images/2020/09/encryption.png!hugo.webp" alt=""  ></p>
<p>9、让加密目录用上 ZFS 的自动快照功能，Grub 引导项中也能选择快照历史恢复系统。</p>
<pre><code>sudo zfs set com.ubuntu.zsys:bootfs-datasets=rpool/ROOT/&lt;nameofdataset&gt; rpool/USERDATA/&lt;yourusername&gt;_encrypt
</code></pre><p>例如：（<strong>注意</strong>：你的数据集不一定叫<code>ubuntu_rroyp0</code>，通过第<code>3</code>步可以查看。）</p>
<pre><code>sudo zfs set com.ubuntu.zsys:bootfs-datasets=rpool/ROOT/ubuntu_rroyp0 rpool/USERDATA/eallion_encrypt
</code></pre><p>10、请确保 Home 目录的权限</p>
<pre><code>sudo chown &lt;yourusername&gt;:&lt;yourusername&gt; /home/&lt;yourusername&gt;
</code></pre><p>例如：</p>
<pre><code>sudo chown -R eallion:eallion /home/eallion
</code></pre><p>11、安装 <code>ecryptfs-utils</code>加密交换空间 Swap</p>
<pre><code>sudo apt install ecryptfs-utils
sudo ecryptfs-setup-swap
</code></pre><p>此时出现的一些错误提示例如<code>swapon: cannot open /dev/mapper/cryptswap1: No such file or device</code>可忽略。</p>
<p>12、查看一下是否成功</p>
<pre><code>cat /etc/fstab
cat /etc/crypttab
</code></pre><p>PS、如果有多余的用户目录数据集占用空间，比如使用一段时间后才想起来想加密 Home 目录，老的数据集可以通过命令销毁，不过一定要记得备份重要数据。</p>
<pre><code>sudo zfs destroy eallion1_123abc
</code></pre><p><strong>Reference:</strong><br>
<a href="https://medium.com/@steinarlbergmyrvang/ubuntu-20-04-with-encrypted-home-f5ce490333cc">https://medium.com/@steinarlbergmyrvang/ubuntu-20-04-with-encrypted-home-f5ce490333cc</a></p>
]]></content><category scheme="https://eallion.com/categories/%E4%BB%A3%E7%A0%81" term="%E4%BB%A3%E7%A0%81" label="代码"/><category scheme="https://eallion.com/tags/ubuntu" term="ubuntu" label="Ubuntu"/><category scheme="https://eallion.com/tags/zfs" term="zfs" label="ZFS"/><category scheme="https://eallion.com/tags/encryption" term="encryption" label="encryption"/><category scheme="https://eallion.com/tags/%E5%8A%A0%E5%AF%86" term="%E5%8A%A0%E5%AF%86" label="加密"/><category scheme="https://eallion.com/tags/linux" term="linux" label="Linux"/></entry><entry><title type="html">爱丽丝梦游仙境症 偶发</title><link href="https://eallion.com/aiws-again/" rel="alternate" type="text/html"/><id>https://eallion.com/aiws-again/</id><published>2020-08-30T20:19:31+08:00</published><updated>2020-08-30T20:19:31+08:00</updated><content type="html"><![CDATA[<p>今天回乡下过<a href="https://eallion.com/yueban2020/">月半</a>去了。晚上开车回家，几十里山路没有遇上什么车，可能是因为精神过于集中，而实际上身体和心态却比较疲劳，竟然<a href="https://eallion.com/aiws/">爱丽丝梦游仙境症(aiws)</a>又犯了，虽然小时候经常犯，但现在已经三年多没有犯过了，因为我上一次犯的时候我专门查了一下这个症状，也记了一篇<a href="https://eallion.com/aiws/">博客</a>。</p>
<p>主要症状就是看眼前的公路变得很遥远，看车里面的东西都变得很小，看手握着的方向盘也很遥远，总之看到的一切都变得遥远与微小。</p>
<p>虽然物体的比例都变化了（有的病友说是会变大），但也符合一定的透视原理，这种感觉主要是视觉的冲突，这种视觉带来的观感与真我意识的生活经验严重相悖。这一点最折磨人。</p>
<p>这也绝不是梦，正常人也不会产生这种梦境。<br>
这也不是醉酒状态，醉酒时意识模糊混沌而不清醒。</p>
<p>如果更形象而文雅一点，更像是——“元神出壳”。因为我感觉我能看到缩小的我自己！</p>
<p>因为有清醒的精神意味，然后依靠生活经验，可以强迫自己做出合理的动作，比如我知道我只要伸手就能扶着方向盘，我只要能看到地上的行车线，我就不会跑偏。这都是从小积累的经验。而且小时候我居然认为谁都会这样，所以一直没有跟人提起过这种事，直到高中时才在杂志上知道了这个病。小时候经常停电，停电后点油灯时就容易发病，那些经验就很有用。但是开车这件事还是太危险了，所以我停下车，找了很多种方法折腾自己，等完全恢复后再行上路。</p>
]]></content><category scheme="https://eallion.com/categories/%E5%98%80%E5%92%95" term="%E5%98%80%E5%92%95" label="嘀咕"/><category scheme="https://eallion.com/categories/%E5%88%86%E4%BA%AB" term="%E5%88%86%E4%BA%AB" label="分享"/><category scheme="https://eallion.com/tags/hugo" term="hugo" label="hugo"/><category scheme="https://eallion.com/tags/blog" term="blog" label="blog"/></entry></feed>